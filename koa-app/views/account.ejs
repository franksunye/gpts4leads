<!-- views/account.ejs -->

<%- include('partials/header', { title: 'Admin Dashboard' }) %>
<%- include('partials/navbar') %>

<div class="container">
    <div class="mb-3"></div>

    <h1>Account & Billing</h1>
    <p>Account and billing information goes here.</p>
    <!-- 页面特定内容 -->
    <script async src="https://js.stripe.com/v3/pricing-table.js"></script>
    <% if (subscription && subscription.plan) { %>
        <!-- 显示订阅信息 -->
        <div class="card">
            <div class="card-header">
                <h2 class="card-title">Subscription Information</h2>
            </div>
            <div class="card-body">
                <p>Status: <strong><%= subscription.status %></strong></p>
                <p>Plan: <strong><%= subscription.plan %></strong></p>
                <p>Email: <strong><%= userEmail %></strong></p>
            </div>
        </div>
    <% } else { %>
        <!-- 显示价格表 -->
        <stripe-pricing-table 
            pricing-table-id="prctbl_1OmvDA2AzALaGMQIOx9IcQ76"
            publishable-key="pk_test_kHX3a2zYKxzbY96pQXnjEqpB"
            customer-email="<%= userEmail %>"
        >
        </stripe-pricing-table>
    <% } %>
</div>

<%- include('partials/footer') %>